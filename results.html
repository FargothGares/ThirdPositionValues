<head>
<link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,700|Roboto:400,700" rel="stylesheet">
<link href='style.css' rel='stylesheet' type='text/css'>
<title>ThirdPositionValues Results</title>
<link rel="icon" type="x-icon" href="vanguardicon.png">
<link rel="shortcut icon" type="x-icon" href="vanguardicon.png">
<meta charset="utf-8">
<script>
  version = ""
</script>
</head>
<script type="application/javascript"
        src="ideologies.js">
</script>

<body>
<img src="ThirdPositionValues.png" class="center"></img>
<hr>

<h1>Results</h1>

<h2>Practical Axis : <span class="weight-300" id="b1"></span></h2>
<div class="axis">
    <img id="img-v1" src="v1.png" height="128pt"/>
    <div class="bar v1" id="bar-v1"><div class="text-wrapper" id="v1"></div></div>
    <div class="bar v2" id="bar-v2"><div class="text-wrapper" id="v2"></div></div>
    <img id="img-v2" src="v2.png" height="128pt"/>
</div>
<h2>Class Axis : <span class="weight-300" id="b2"></span></h2>
<div class="axis">
    <img id="img-v3" src="v3.png" height="128pt"/>
    <div class="bar v3" id="bar-v3"><div class="text-wrapper" id="v3"></div></div>
    <div class="bar v4" id="bar-v4"><div class="text-wrapper" id="v4"></div></div>
    <img id="img-v4" src="v4.png" height="128pt"/>
</div>
<h2>Diplomatic Axis : <span class="weight-300" id="b3"></span></h2>
<div class="axis">
    <img id="img-v5" src="v5.png" height="128pt"/>
    <div class="bar v5" id="bar-v5"><div class="text-wrapper" id="v5"></div></div>
    <div class="bar v6" id="bar-v6"><div class="text-wrapper" id="v6"></div></div>
    <img id="img-v6" src="v6.png" height="128pt"/>
</div>
<h2>Identity Axis : <span class="weight-300" id="b4"></span></h2>
<div class="axis">
    <img id="img-v7" src="v7.png" height="128pt"/>
    <div class="bar v7" id="bar-v7"><div class="text-wrapper" id="v7"></div></div>
    <div class="bar v8" id="bar-v8"><div class="text-wrapper" id="v8"></div></div>
    <img id="img-v8" src="v8.png" height="128pt"/>
</div>
<h2>Cultural Axis : <span class="weight-300" id="b5"></span></h2>
<div class="axis">
    <img id="img-v9" src="v9.png" height="128pt"/>
    <div class="bar v9" id="bar-v9"><div class="text-wrapper" id="v9"></div></div>
    <div class="bar v10" id="bar-v10"><div class="text-wrapper" id="v10"></div></div>
    <img id="img-v10" src="v10.png" height="128pt"/>
</div>
<h2>Technological Axis : <span class="weight-300" id="b6"></span></h2>
<div class="axis">
    <img id="img-v11" src="v11.png" height="128pt"/>
    <div class="bar v11" id="bar-v11"><div class="text-wrapper" id="v11"></div></div>
    <div class="bar v12" id="bar-v12"><div class="text-wrapper" id="v12"></div></div>
    <img id="img-v12" src="v12.png" height="128pt"/>
</div>
<h2>Societal Axis : <span class="weight-300" id="b7"></span></h2>
<div class="axis">
    <img id="img-v13" src="v13.png" height="128pt"/>
    <div class="bar v13" id="bar-v13"><div class="text-wrapper" id="v13"></div></div>
    <div class="bar v14" id="bar-v14"><div class="text-wrapper" id="v14"></div></div>
    <img id="img-v14" src="v14.png" height="128pt"/>
</div>
<h2>Religious Axis : <span class="weight-300" id="b8"></span></h2>
<div class="axis">
    <img id="img-v15" src="v15.png" height="128pt"/>
    <div class="bar v15" id="bar-v15"><div class="text-wrapper" id="v15"></div></div>
    <div class="bar v16" id="bar-v16"><div class="text-wrapper" id="v16"></div></div>
    <img id="img-v16" src="v16.png" height="128pt"/>
</div>
<h2>Closest Match : <span class="weight-300" id="ideology-label"></span></h2>
<hr/>
<img src="" id="banner">
<button class="button" onclick="location.href='index.html';" style="background-color: #00a0e0;">Back</button> <br>
<script>
    function getQueryVariable(variable)
    {
           var query = window.location.search.substring(1)
           var vars = query.split("&")
           for (var i=0;i<vars.length;i++) {
                   var pair = vars[i].split("=")
                   if(pair[0] == variable) {return pair[1]}
           }
           return(NaN);
    }

    function setBarValue(name, value) {
        innerel = document.getElementById(name)
        outerel = document.getElementById("bar-" + name)
        outerel.style.width = (value + "%")
        innerel.innerHTML = (value + "%")
        if (innerel.offsetWidth + 20 > outerel.offsetWidth) {
            innerel.style.visibility = "hidden"
        }
    }

    b1Array = ["Terrorism","Insurrection","Rebellion","Mixed","Unsettled","Reformist","Pacifist"]
    b2Array = ["Class Warfare","Anti-Bourgeois","Proletarian Focus","Neutral","Tripartism","Collaboration","Stratified Class"]
    b3Array = ["Autarky","Isolationism","Anti-Imperialist","Realpolitik","Expansionist","Pan-Nationalist","Imperialist"]
    b4Array = ["Civic Nationalist","Ethnic Nationalist","Classical Nationalist","Neutral","Racial Identitarian","Racial Nationalist","Racial Supremacist"]
    b5Array = ["Futurist","Revolutionary","Progressive","Neutral","Regressive","Reactionary","Antique"]
    b6Array = ["Technophilic","Accelerationist","Industrialist","Neutral","Decceleraitonist","Luddite","Primitivist"]
    b7Array = ["Totalitarian","Authoritarian","Statist","Neutral","Libertarian","Minarchist","Anarchist"]
    b8Array = ["State Atheist","Anti-Theist","Secularist","Mixed","Religious","Fundementalist","Theocratic"]

    function setLabel(val,ary) {
        if (val > 100) { return "" } else
        if (val > 85) { return ary[0] } else
        if (val > 70) { return ary[1] } else
        if (val > 55) { return ary[2] } else
        if (val >= 45) { return ary[3] } else
        if (val >= 30) { return ary[4] } else
        if (val >= 15) { return ary[5] } else
        if (val >= 0) { return ary[6] } else
        	{return ""}
    }

    v1 = getQueryVariable("v1")
    v3 = getQueryVariable("v3")
    v5 = getQueryVariable("v5")
    v7 = getQueryVariable("v7")
    v9 = getQueryVariable("v9")
    v11 = getQueryVariable("v11")
    v13 = getQueryVariable("v13")
    v15 = getQueryVariable("v15")
    v2 = (100 - v1).toFixed(1)
    v4 = (100 - v3).toFixed(1)
    v6 = (100 - v5).toFixed(1)
    v8 = (100 - v7).toFixed(1)
    v10 = (100 - v9).toFixed(1)
    v12 = (100 - v11).toFixed(1)
    v14 = (100 - v13).toFixed(1)
    v16 = (100 - v15).toFixed(1)

    setBarValue("v1", v1)
    setBarValue("v2", v2)
    setBarValue("v3", v3)
    setBarValue("v4", v4)
    setBarValue("v5", v5)
    setBarValue("v6", v6)
    setBarValue("v7", v7)
    setBarValue("v8", v8)
    setBarValue("v9", v9)
    setBarValue("v10", v10)
    setBarValue("v11", v11)
    setBarValue("v12", v12)
    setBarValue("v13", v13)
    setBarValue("v14", v14)
    setBarValue("v15", v15)
    setBarValue("v16", v16)

    document.getElementById("b1").innerHTML = setLabel(v1, b1Array)
    document.getElementById("b2").innerHTML = setLabel(v3, b2Array)
    document.getElementById("b3").innerHTML = setLabel(v5, b3Array)
    document.getElementById("b4").innerHTML = setLabel(v7, b4Array)
    document.getElementById("b5").innerHTML = setLabel(v9, b5Array)
    document.getElementById("b6").innerHTML = setLabel(v11, b6Array)
    document.getElementById("b7").innerHTML = setLabel(v13, b7Array)
    document.getElementById("b8").innerHTML = setLabel(v15, b8Array)

    ideology = ""
    ideodist = Infinity
    for (var i = 0; i < ideologies.length; i++) {
        dist = 0
        dist += Math.abs(ideologies[i].stats.b1 - v1)*1
        dist += Math.abs(ideologies[i].stats.b2 - v3)*1
        dist += Math.abs(ideologies[i].stats.b3 - v5)*1
        dist += Math.abs(ideologies[i].stats.b4 - v7)*1
        dist += Math.abs(ideologies[i].stats.b5 - v9)*1
        dist += Math.abs(ideologies[i].stats.b6 - v11)*1
        dist += Math.abs(ideologies[i].stats.b7 - v13)*1
        dist += Math.abs(ideologies[i].stats.b8 - v15)*1
        if (dist < ideodist) {
            ideology = ideologies[i].name
            ideodist = dist
            ideomatch = Math.round(100-100*(ideodist/400))
        }
    }
    document.getElementById("ideology-label").innerHTML = ideology

    function createImage(src, x, y, w, h) {
        img = new Image ()
        img.src = src
        img.onLoad = function() {
            ctx.drawImage(img, x, y, w, h)
        }
    }

    window.onload = function() {
        var c = document.createElement("canvas")
        var ctx = c.getContext("2d")
        c.width = 800;
        c.height = 1125;
        ctx.fillStyle = "#e0e0e0"
        ctx.fillRect(0,0,800,1125);

        img = document.getElementById("img-v1")
        ctx.drawImage(img, 20, 170, 100, 100)
        img = document.getElementById("img-v2")
        ctx.drawImage(img, 680, 170, 100, 100)
        img = document.getElementById("img-v3")
        ctx.drawImage(img, 20, 290, 100, 100)
        img = document.getElementById("img-v4")
        ctx.drawImage(img, 680, 290, 100, 100)
        img = document.getElementById("img-v5")
        ctx.drawImage(img, 20, 410, 100, 100)
        img = document.getElementById("img-v6")
        ctx.drawImage(img, 680, 410, 100, 100)
        img = document.getElementById("img-v7")
        ctx.drawImage(img, 20, 530, 100, 100)
        img = document.getElementById("img-v8")
        ctx.drawImage(img, 680, 530, 100, 100)
        img = document.getElementById("img-v9")
        ctx.drawImage(img, 20, 650, 100, 100)
        img = document.getElementById("img-v10")
        ctx.drawImage(img, 680, 650, 100, 100)
        img = document.getElementById("img-v11")
        ctx.drawImage(img, 20, 770, 100, 100);
        img = document.getElementById("img-v12")
        ctx.drawImage(img, 680, 770, 100, 100)
        img = document.getElementById("img-v13")
        ctx.drawImage(img, 20, 890, 100, 100)
        img = document.getElementById("img-v14")
        ctx.drawImage(img, 680, 890, 100, 100)
        img = document.getElementById("img-v15")
        ctx.drawImage(img, 20, 1010, 100, 100)
        img = document.getElementById("img-v16")
        ctx.drawImage(img, 680, 1010, 100, 100)

        ctx.fillStyle="#000000"
        ctx.fillRect(120, 185, 560, 70)
        ctx.fillRect(120, 305, 560, 70)
        ctx.fillRect(120, 425, 560, 70)
        ctx.fillRect(120, 545, 560, 70)
        ctx.fillRect(120, 665, 560, 70)
        ctx.fillRect(120, 785, 560, 70)
        ctx.fillRect(120, 905, 560, 70)
        ctx.fillRect(120, 1025, 560, 70)
        ctx.fillStyle="#4C0503"
        ctx.fillRect(120, 189, 5.6*v1-2, 62)
        ctx.fillStyle="#B56C42"
        ctx.fillRect(682-5.6*v2, 189, 5.6*v2-2, 62)
        ctx.fillStyle="#FF0000"
        ctx.fillRect(120, 309, 5.6*v3-2, 62)
        ctx.fillStyle="#FFFFFF"
        ctx.fillRect(682-5.6*v4, 309, 5.6*v4-2, 62)
        ctx.fillStyle="#214724"
        ctx.fillRect(120, 429, 5.6*v5-2, 62)
        ctx.fillStyle="#001DC4"
        ctx.fillRect(682-5.6*v6, 429, 5.6*v6-2, 62)
        ctx.fillStyle="#542A0E"
        ctx.fillRect(120, 549, 5.6*v7-2, 62)
        ctx.fillStyle="#C61000"
        ctx.fillRect(682-5.6*v8, 549, 5.6*v8-2, 62)
        ctx.fillStyle="#57007F"
        ctx.fillRect(120, 669, 5.6*v9-2, 62)
        ctx.fillStyle="#0C1E0E"
        ctx.fillRect(682-5.6*v10, 669, 5.6*v10-2, 62)
        ctx.fillStyle="#00137F"
        ctx.fillRect(120, 789, 5.6*v11-2, 62)
        ctx.fillStyle="#004907"
        ctx.fillRect(682-5.6*v12, 789, 5.6*v12-2, 62)
        ctx.fillStyle="#FF7F7F"
        ctx.fillRect(120, 909, 5.6*v13-2, 62)
        ctx.fillStyle="#4B71A2"
        ctx.fillRect(682-5.6*v14, 909, 5.6*v14-2, 62)
        ctx.fillStyle="#BFAAFF"
        ctx.fillRect(120, 1029, 5.6*v15-2, 62)
        ctx.fillStyle="#c050c0"
        ctx.fillRect(682-5.6*v16, 1029, 5.6*v16-2, 62)
        ctx.fillStyle="#000000"
        ctx.font="700 50px Montserrat"
        ctx.textAlign="left"
        ctx.fillText("ThirdPositionValues", 20, 70)
        ctx.font="30px Montserrat"
        ctx.fillText(ideology, 20, 120)

        ctx.textAlign="left"
        if (v1 >= 25) {ctx.fillText(v1 + "%", 130, 232.5)}
        if (v3 >= 25) {ctx.fillText(v3 + "%", 130, 352.5)}
        if (v5 >= 25) {ctx.fillText(v5 + "%", 130, 472.5)}
        if (v7 >= 25) {ctx.fillText(v7 + "%", 130, 592.5)}
        if (v9 >= 25) {ctx.fillText(v9 + "%", 130, 712.5)}
        if (v11 >= 25) {ctx.fillText(v11 + "%", 130, 832.5)}
        if (v13 >= 25) {ctx.fillText(v13 + "%", 130, 952.5)}
        if (v15 >= 25) {ctx.fillText(v15 + "%", 130, 1072.5)}
        ctx.textAlign="right"
        if (v2 >= 25) {ctx.fillText(v2 + "%", 670, 232.5)}
        if (v4 >= 25) {ctx.fillText(v4 + "%", 670, 352.5)}
        if (v6 >= 25) {ctx.fillText(v6 + "%", 670, 472.5)}
        if (v8 >= 25) {ctx.fillText(v8 + "%", 670, 592.5)}
        if (v10 >= 25) {ctx.fillText(v10 + "%", 670, 712.5)}
        if (v12 >= 25) {ctx.fillText(v12 + "%", 670, 832.5)}
        if (v14 >= 25) {ctx.fillText(v14 + "%", 670, 952.5)}
        if (v16 >= 25) {ctx.fillText(v16 + "%", 670, 1072.5)}

        ctx.font="300 30px Montserrat"
        ctx.textAlign="center"
        ctx.fillText("Practical Axis: " + document.getElementById("b1").innerHTML, 400, 175)
        ctx.fillText("Class Axis : " + document.getElementById("b2").innerHTML, 400, 295)
        ctx.fillText("Diplomatic Axis : " + document.getElementById("b3").innerHTML, 400, 415)
        ctx.fillText("Identity Axis : " + document.getElementById("b4").innerHTML, 400, 535)
        ctx.fillText("Cultural Axis : " + document.getElementById("b5").innerHTML, 400, 655)
        ctx.fillText("Technological Axis : " + document.getElementById("b6").innerHTML, 400, 775)
        ctx.fillText("Societal Axis : " + document.getElementById("b7").innerHTML, 400, 895)
        ctx.fillText("Religious Axis : " + document.getElementById("b8").innerHTML, 400, 1015)

        document.getElementById("banner").src = c.toDataURL();
    }
    </script>
</body>

